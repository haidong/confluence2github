:::::::::::: {#page}
:::::::: {#main .aui-page-panel}
:::: {#main-header}
::: {#breadcrumb-section}
1.  [Alex Ji](index.html)
2.  [Alex Ji's Home](377815074.html)
:::

# [ Alex Ji : Create EKS cluster node group ]{#title-text} {#title-heading .pagetitle}
::::

::::: {#content .view}
::: page-metadata
Created by [ Alex Ji]{.author}, last modified on Feb 03, 2024
:::

::: {#main-content .wiki-content .group}
Having a node group in a k8s cluster provides flexibility and capability
for experimentation, testing, and development. This article describes
steps involved. As aws EKS cluster evolves over time, please feel free
to update this page as necessary.

## Get the description of the existing node group {#CreateEKSclusternodegroup-Getthedescriptionoftheexistingnodegroup}

Having the description of the existing node group at hand is useful.
I\'ve used its subnet data and nodeRole to create a new node group that
worked well.

First, find out the the name of the existing node group

1.  There are 2 ways of doing so:\
    1.  Go to the aws web console for EKS. Be sure to select the right
        region.
    2.  Navigate to the cluster
    3.  On this cluster\'s web page, under the Cluster Info, click the
        Compute tab
    4.  Scroll down and find out the node group name
2.  Use the CLI\
    `aws eks list-nodegroups --cluster-name demo-west-appdcloud-demo4`

Now, get the definition of it. This is best done using aws CLI. Here is
an example:

`aws eks describe-nodegroup --cluster-name demo-west-appdcloud-demo4 --nodegroup-name demo-west-appdcloud-demo4-22`

\

## Create a new node group {#CreateEKSclusternodegroup-Createanewnodegroup}

With the existing node group description in hand, now it is time to
create a new node group. I found it easier to create a new one using the
web console.

During this step, please use the subnet and nodeRole info from the steps
above. If you want to create a Managed Node Group, please don\'t select
your own Launch Template. However, if for whatever reason you don\'t
want to use Managed Node Group, you\'d need to create a Launch Template
first. We need to create a document for Launch Template creation when we
start using it.

For demo cluster, we have been using the m5.xlarge ec2 instance, with
100GB of EBS disk size.

Afterwards, please install the EBS CSI driver addon: [Setup EBS CSI
driver for k8s Persistent Volume
Claim](https://confluence.corp.appdynamics.com/display/~alji@appdynamics.com/Setup+EBS+CSI+driver+for+k8s+Persistent+Volume+Claim "Alex Ji"){style="text-align: left;"
rel="nofollow"}

\
:::
:::::
::::::::

::::: {#footer role="contentinfo"}
:::: {.section .footer-body}
Document generated by Confluence on May 22, 2024 14:04

::: {#footer-logo}
[Atlassian](https://www.atlassian.com/)
:::
::::
:::::
::::::::::::
